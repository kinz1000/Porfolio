<nav
  class="navbar"
  [ngClass]="{
    'navbar-tecnic': esTecnico,
    'navbar-personal': esPersonal
  }"
>
  <div class="nav-container">
    <!-- ================== LOGO / FECHA ================== -->
    <!-- Muestra la fecha de actualizaci√≥n si estamos en secciones T√©cnico o Personal -->
 <a href="#" class="logo" title="√öltima actualizaci√≥n de la p√°gina">
  {{ esTecnico || esPersonal|| esTerminos||esPrivacidad ? fechaAct : 'No se encuentra la ruta' }}
</a>

    <span class="barra-vertical">‚îÇ</span>

    <!-- ================== MEN√ö DE SECCIONES ================== -->
    <ul class="nav-links">
 
    <ng-container *ngIf="esTerminos"> 
      
      <li [class.active]="activeSection === 'sobre-mi'">
          <a (click)="volverInicio()" title="Volver al profolio">
            {{ selectedLang === 'ES' ? 'Volver' : 'Return' }}
          </a>
        </li>
        
        
        </ng-container>
    <ng-container *ngIf="esPrivacidad"> 
      
      <li [class.active]="activeSection === 'sobre-mi'">
          <a (click)="volverInicio()" title="Volver al profolio">
            {{ selectedLang === 'ES' ? 'Volver' : 'Return' }}
          </a>
        </li>
        
        
        </ng-container>








      <!-- üîπ Men√∫ para T√©cnico -->
      <ng-container *ngIf="esTecnico">
        <!-- Cada <li> activa la clase 'active' si coincide con la secci√≥n visible -->
        <li [class.active]="activeSection === 'sobre-mi'">
          <a (click)="scrollToSection('sobre-mi')" title="P√°gina inicial">
            {{ selectedLang === 'ES' ? 'Sobre m√≠' : 'About me' }}
          </a>
        </li>
        <li [class.active]="activeSection === 'habilidades'">
          <a (click)="scrollToSection('habilidades')">
            {{ selectedLang === 'ES' ? 'Habilidades' : 'Skills' }}
          </a>
        </li>
      </ng-container>

      <!-- üîπ Men√∫ para Personal -->
      <ng-container *ngIf="esPersonal">
        <!-- Secciones principales traducibles seg√∫n selectedLang -->
        <li [class.active]="activeSection === 'introduccion'">
          <a title="Pagina principal del porfolio" (click)="scrollToSection('introduccion')">
            {{ selectedLang === 'ES' ? 'Sobre m√≠' : 'About me' }}
          </a>
        </li>
        <li [class.active]="activeSection === 'trayectoria'">
          <a (click)="scrollToSection('trayectoria')">
            {{ selectedLang === 'ES' ? 'Trayectoria' : 'Career' }}
          </a>
        </li>
        <li [class.active]="activeSection === 'stack'">
          <a (click)="scrollToSection('stack')">
            {{ selectedLang === 'ES' ? 'Stack' : 'Tech Stack' }}
          </a>
        </li>
        <li [class.active]="activeSection === 'proyectos'">
          <a (click)="scrollToSection('proyectos')">
            {{ selectedLang === 'ES' ? 'Proyectos' : 'Projects' }}
          </a>
        </li>
        <li [class.active]="activeSection === 'contactame'">
          <a (click)="scrollToSection('contactame')">
            {{ selectedLang === 'ES' ? 'Cont√°ctame' : 'Contact me' }}
          </a>
        </li>
      </ng-container>
    </ul>

    <!-- ================== LADO DERECHO ================== -->
    <div class="right-controls">
      <!-- üîç B√öSQUEDA -->
      <div class="search-container" #searchContainer [class.active]="isSearchActive">
        <!-- Bot√≥n de b√∫squeda con √≠cono SVG -->
        <button class="search-button" aria-label="Abrir b√∫squeda" (click)="toggleSearch()">
          <svg xmlns="http://www.w3.org/2000/svg" fill="#FFC90E" viewBox="0 0 24 24" width="20" height="20">
            <path d="M10 2a8 8 0 015.292 13.708l4.5 4.5-1.414 1.414-4.5-4.5A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z"/>
          </svg>
        </button>

        <!-- Barra de b√∫squeda con navegaci√≥n de resultados -->
        <!-- La placeholder cambia din√°micamente seg√∫n selectedLang -->
        <div class="search-bar">
          <input
            #searchInput
            type="text"
            class="search-input"
            [placeholder]="selectedLang === 'ES' ? 'Buscar...' : 'Search...'"
            (input)="onInputChange($event)"
          />
          <div class="search-controls">
            <!-- Contador din√°mico de resultados -->
            <span class="results-counter">{{ currentResultIndex }}/{{ totalResults }}</span>
            <!-- Botones de navegaci√≥n entre resultados -->
            <button class="search-nav-button" (click)="navigate(-1)" [disabled]="totalResults === 0">&#9664;</button>
            <button class="search-nav-button" (click)="navigate(1)" [disabled]="totalResults === 0">&#9654;</button>
          </div>
        </div>
      </div>

      <!-- üåê SELECTOR DE IDIOMA -->
      <!-- Toggle switch: usa checkbox para ES/EN -->
      <div class="toggle">
        <input
          type="checkbox"
          id="btn"
          (change)="toggleLang()"
          [checked]="selectedLang === 'EN'"/>       <!-- Sincroniza estado con el servicio de idioma -->
        
        <label for="btn">
          <!-- track y thumb son puramente visuales, label-on/off muestran el texto del idioma -->
          <span class="track"></span>
          <span class="thumb"></span>
          <span class="label-on">EN</span>
          <span class="label-off">ES</span>
        </label>
      </div>
    </div>
  </div>
</nav>