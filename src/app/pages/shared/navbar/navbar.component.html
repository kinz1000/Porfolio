<nav
  class="navbar"
  [ngClass]="{
    'navbar-tecnic': esTecnico,
    'navbar-personal': esPersonal
  }"
>
  <div class="nav-container">
    <!-- ================== LOGO / FECHA ================== -->
    <a href="#" class="logo">
      {{ esTecnico ? fechaAct : esPersonal ? fechaAct : 'No se encuentra la ruta' }}
    </a>

    <span class="barra-vertical">‚îÇ</span>

    <!-- ================== MEN√ö DE SECCIONES ================== -->
    <ul class="nav-links">
      <!-- üîπ Men√∫ para T√©cnico -->
      <ng-container *ngIf="esTecnico">
        <li [class.active]="activeSection === 'sobre-mi'">
          <a (click)="scrollToSection('sobre-mi')">Sobre m√≠</a>
        </li>
        <li [class.active]="activeSection === 'habilidades'">
          <a (click)="scrollToSection('habilidades')">Habilidades</a>
        </li>
      </ng-container>

      <!-- üîπ Men√∫ para Personal -->
      <ng-container *ngIf="esPersonal">
        <li [class.active]="activeSection === 'introduccion'">
          <a (click)="scrollToSection('introduccion')">Sobre m√≠</a>
        </li>
        <li [class.active]="activeSection === 'trayectoria'">
          <a (click)="scrollToSection('trayectoria')">Trayectoria</a>
        </li>
        <li [class.active]="activeSection === 'stack'">
          <a (click)="scrollToSection('stack')">Stack</a>
        </li>
        <li [class.active]="activeSection === 'proyectos'">
          <a (click)="scrollToSection('proyectos')">Proyectos</a>
        </li>
        <li [class.active]="activeSection === 'contactame'">
          <a (click)="scrollToSection('contactame')">Cont√°ctame</a>
        </li>
      </ng-container>
    </ul>

    <!-- ================== LADO DERECHO ================== -->
    <div class="right-controls">
      <!-- üîç B√öSQUEDA -->
      <div
        class="search-container"
        #searchContainer
        [class.active]="isSearchActive"
      >
        <!-- Bot√≥n de b√∫squeda -->
        <button
          class="search-button"
          aria-label="Abrir b√∫squeda"
          (click)="toggleSearch()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="#FFC90E"
            viewBox="0 0 24 24"
            width="20"
            height="20"
          >
            <path
              d="M10 2a8 8 0 015.292 13.708l4.5 4.5-1.414 1.414-4.5-4.5A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z"
            />
          </svg>
        </button>

        <!-- Barra de b√∫squeda -->
        <div class="search-bar">
          <input
            #searchInput
            type="text"
            class="search-input"
            placeholder="Buscar..."
            (input)="onInputChange($event)"
          />

          <!-- Navegaci√≥n de resultados -->
          <div class="search-controls">
            <span class="results-counter"
              >{{ currentResultIndex }}/{{ totalResults }}</span
            >
            <button
              class="search-nav-button"
              (click)="navigate(-1)"
              [disabled]="totalResults === 0"
            >
              &#9664;
            </button>
            <button
              class="search-nav-button"
              (click)="navigate(1)"
              [disabled]="totalResults === 0"
            >
              &#9654;
            </button>
          </div>
        </div>
      </div>

      <!-- üåê SELECTOR DE IDIOMA -->
      <div class="toggle">
        <input
          type="checkbox"
          id="btn"
          (change)="toggleLang()"
          [checked]="selectedLang === 'EN'"
        />
        <label for="btn">
          <span class="track"></span>
          <span class="thumb"></span>
          <span class="label-on">EN</span>
          <span class="label-off">ES</span>
        </label>
      </div>
    </div>
  </div>
</nav>